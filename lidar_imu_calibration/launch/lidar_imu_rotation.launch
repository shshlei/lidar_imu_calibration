<?xml version="1.0"?>
<launch>
  <node name="lidar_imu_rotation_init" pkg="lidar_imu_calibration" type="lidar_imu_rotation_init" output="screen" clear_params="true" required="true">
    <!-- bag topics -->
    <param name="topic_imu" type="string" value="/vectornav/IMU" />
    <param name="topic_lidar" type="string" value="/os_cloud_node/points" />

    <!-- bag parameters -->
    <param name="path_bag" type="string" value="$(find lidar_imu_calibration)/bag/2021-04-16-10-32-05_far.bag" />
    <param name="bag_start" type="double" value="0" />
    <param name="bag_durr" type="int"    value="-1" />

    <!-- NDT Resolution -->
    <param name="ndt_resolution" type="double" value="0.25"/>
  </node>

  <node name="lidar_imu_rotation_optimizer" pkg="lidar_imu_calibration" type="lidar_imu_rotation_optimizer" output="screen" clear_params="true" required="true">
    <param name="max_frames" type="int" value="550" />
    <param name="gyroscope_noise_density" type="double" value="0.00006243" />
    <param name="accelerometer_noise_density" type="double" value="0.094666" />
    <param name="calibration_result_filename" type="string" value="$(find lidar_imu_calibration)/data/I_T_L_init.txt"/>
  </node>
</launch>
